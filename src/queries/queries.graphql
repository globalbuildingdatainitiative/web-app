query getContributionsForHeader {
  contributions {
    items(sortBy: { dsc: "uploaded_at" }, limit: 1) {
      uploadedAt
    }
    count
  }
}

query getContributions($limit: Int, $offset: Int) {
  contributions {
    items(limit: $limit, offset: $offset) {
      id
      uploadedAt
      userId
      project {
        name
        location {
          countryName
        }
      }
    }
    count
  }
}

mutation addContribution($contributions: [InputContribution!]!) {
  addContributions(contributions: $contributions) {
    id
  }
}

query getOrganizations {
  organizations {
    id
    name
    address
    city
    country
  }
}

mutation createOrganizations($organizations: [InputOrganization!]!) {
  createOrganizations(organizations: $organizations) {
    id
    name
    address
    city
    country
  }
}

query getUsers($filters: UserFilters) {
  users(filters: $filters) {
    id
    firstName
    lastName
    email
    timeJoined
  }
}

query getCurrentUser($id: String!) {
  users(filters: { id: { equal: $id } }) {
    id
    firstName
    lastName
    email
    organization {
      id
      name
    }
    timeJoined
  }
}

mutation updateUser($userInput: UpdateUserInput!) {
  updateUser(userInput: $userInput) {
    id
    firstName
    lastName
    email
    timeJoined
  }
}

query getProjectsCountsByCountry {
  projects {
    groups(groupBy: "location.country") {
      group
      count
      items(limit: 1) {
        id
        location {
          countryName
          longitude
          latitude
        }
      }
    }
  }
}

query getProjectDataForBoxPlot {
  projects {
    groups(groupBy: "location.country") {
      group
      items {
        id
        location {
          countryName
        }
      }
      aggregation(
        apply: [
          { method: AVG, field: "results.gwp.a1a3" }
          { method: MIN, field: "results.gwp.a1a3" }
          { method: MAX, field: "results.gwp.a1a3" }
          { method: MEDIAN, field: "results.gwp.a1a3" }
          { method: PCT25, field: "results.gwp.a1a3" }
          { method: PCT75, field: "results.gwp.a1a3" }
        ]
      ) {
        method
        field
        value
      }
    }
  }
}

query getProjectPortfolio($limit: Int, $offset: Int) {
  projects {
    items(limit: $limit, offset: $offset) {
      id
      name
      location {
        countryName
      }
      projectInfo {
        buildingFootprint {
          value
        }
        buildingType
        buildingTypology
      }
      results
    }
    count
  }
}
