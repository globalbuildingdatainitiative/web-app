mutation acceptInvitation($userId: String!) {
  acceptInvitation(userId: $userId)
}

mutation rejectInvitation($userId: String!) {
  rejectInvitation(userId: $userId)
}

mutation inviteUsers($input: InviteUsersInput!) {
  inviteUsers(input: $input) {
    email
    status
    message
  }
}

mutation resendInvitation($userId: String!) {
  resendInvitation(userId: $userId) {
    email
    status
    message
  }
}

query getContributionsPerMonth {
  contributions {
    items(sortBy: { dsc: "uploaded_at" }, limit: null) {
      id
      uploadedAt
    }
    count
  }
}

query getContributionsForHeader {
  contributions {
    items(sortBy: { dsc: "uploaded_at" }, limit: null) {
      uploadedAt
    }
    count
  }
}

query getContributions($limit: Int, $offset: Int) {
  contributions {
    items(limit: $limit, offset: $offset) {
      id
      uploadedAt
      public
      user {
        id
        firstName
        lastName
      }
      project {
        name
        location {
          countryName
        }
        lifeCycleStages
        impactCategories
        projectInfo {
          buildingType
        }
      }
    }
    count
  }
}

mutation addContribution($contributions: [InputContribution!]!) {
  addContributions(contributions: $contributions) {
    id
  }
}

query getOrganizations {
  organizations {
    id
    name
    address
    city
    country
    metaData {
      stakeholders
    }
  }
}

mutation createOrganizations($organizations: [InputOrganization!]!) {
  createOrganizations(organizations: $organizations) {
    id
    name
    address
    city
    country
    metaData {
      stakeholders
    }
  }
}

query getUsers($filters: UserFilters) {
  users(filters: $filters) {
    id
    firstName
    lastName
    email
    timeJoined
    invited
    inviteStatus
    inviterName
    organizationId
    role
  }
}

query getCurrentUser($id: String!) {
  users(filters: { id: { equal: $id } }) {
    id
    firstName
    lastName
    email
    role
    organization {
      id
      name
    }
    timeJoined
  }
}

mutation updateUser($userInput: UpdateUserInput!) {
  updateUser(userInput: $userInput) {
    id
    firstName
    lastName
    email
    timeJoined
    role
    organizationId
  }
}

query getProjectsCountsByCountry {
  projects {
    groups(groupBy: "location.country") {
      group
      count
      items(limit: 1) {
        id
        location {
          countryName
          longitude
          latitude
        }
      }
    }
  }
}

query getProjectDataForBoxPlot($aggregation: JSON!) {
  projects {
    groups(groupBy: "location.country") {
      group
      items(limit: 1) {
        id
        location {
          countryName
        }
        softwareInfo {
          lcaSoftware
        }
      }
    }
    aggregation(apply: $aggregation)
  }
}

query getProjectPortfolio($limit: Int, $offset: Int, $filters: FilterBy) {
  projects {
    items(limit: $limit, offset: $offset, filterBy: $filters) {
      id
      name
      location {
        countryName
      }
      projectInfo {
        grossFloorArea {
          value
        }
        buildingType
        buildingTypology
      }
      results {
        gwp {
          a0
          a1a3
          a4
          a5
          b1
          b2
          b3
          b4
          b5
          b6
          b7
          b8
          c1
          c2
          c3
          c4
          d
          total
        }
      }
    }
    count(filterBy: $filters)
  }
}
